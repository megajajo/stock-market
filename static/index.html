<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Stock Exchange Portal</title>
    <link rel="stylesheet" href="css/main.css" />
    <script src="https://accounts.google.com/gsi/client" async defer></script>
  </head>
  <body>
    <main id="view-container">
      <!-- Portfolio View -->
      <section id="portfolio-view" class="view active">
        <div class="view-header">
  <div class="header-content">
    <!-- Top row: title -->
    <div id="portfolio-title" class="portfolio-title"></div>

    <!-- Middle row: picture + balance -->
    <div class="header-main">
      <img
        id="header-pic"
        class="profile-pic header-pic"
        src=""
        alt="User profile picture"
      />
      <div class="balance-large" id="balance-header"></div>
    </div>

    <!-- Bottom row: PnL -->
    <div class="pnl-small" id="pnl-header"></div>
  </div>

  <div class="portfolio-graph-container" id="header-graph"></div>
</div>

        <div class="holdings-grid">
          <!-- Portfolio cards will be dynamically generated here -->
        </div>
      </section>

      <!-- Search View -->
      <section id="search-view" class="view">
        <div class="view-header">
          <div class="header-content">
            <!-- Replace the title with a search input -->
            <input
              type="text"
              id="stock-search-input"
              class="search-input"
              placeholder="ðŸ” Search stocks..."
              autocomplete="off"
            />
          </div>
        </div>
        <div class="stocks-grid">
          <!-- Stock cards will be dynamically generated here -->
        </div>
      </section>

      <!-- Settings View -->
      <section id="settings-view" class="view">
        <div class="view-header">
          <div class="header-content">
            <div class="balance-large" id="settings-title">Settings</div>
            <div class="pnl-small" id="settings-pnl"></div>
          </div>
        </div>
        <div class="settings-list">
          <div class="setting-item">
            <label for="theme-toggle">Dark Mode</label>
            <input type="checkbox" id="theme-toggle" name="theme-toggle" checked />
          </div>
          <div class="setting-item">
            <label for="help-btn">Help</label>
            <button id="help-btn">Watch Tutorial</button>
          </div>
          <div class="setting-item">
            <div id="g_id_signin"></div>
            <button id="google-signout" style="display: none";>Sign out</button>
          </div>
        </div>
      </section>
    </main>

    <nav class="bottom-nav">
      <button
        id="nav-portfolio"
        class="nav-btn active"
        data-view="portfolio-view"
        aria-label="Portfolio"
      >
        <!-- portfolio / chart icon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24">
          <path d="M3 13h4v8H3zm6-6h4v14h-4zm6 4h4v10h-4z"/>
        </svg>
      </button>
      <button
        id="nav-search"
        class="nav-btn"
        data-view="search-view"
        aria-label="Search"
      >
        <!-- magnifyingâ€‘glass icon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24">
          <path d="M10 2a8 8 0 015.292 13.708l4.646 4.646-1.414 1.414-4.646-4.646A8 8 0 1110 2zm0 2a6 6 0 100 12 6 6 0 000-12z"/>
        </svg>
      </button>
      <button
        id="nav-settings"
        class="nav-btn"
        data-view="settings-view"
        aria-label="Settings"
      >
        <!-- gear/cog icon -->
        <svg xmlns="http://www.w3.org/2000/svg" class="icon" viewBox="0 0 24 24">
          <path d="M19.14 12.936a7.998 7.998 0 000-1.872l2.036-1.58a.5.5 0 00.12-.635l-1.924-3.33a.5.5 0 00-.607-.22l-2.396.96a8.033 8.033 0 00-1.62-.936l-.36-2.54A.5.5 0 0014.5 2h-5a.5.5 0 00-.493.424l-.36 2.54a8.033 8.033 0 00-1.62.936l-2.396-.96a.5.5 0 00-.607.22L2.8 8.849a.5.5 0 00.12.635l2.036 1.58a7.998 7.998 0 000 1.872l-2.036 1.58a.5.5 0 00-.12.635l1.924 3.33a.5.5 0 00.607.22l2.396-.96c.504.393 1.05.72 1.62.936l.36 2.54A.5.5 0 009.5 22h5a.5.5 0 00.493-.424l.36-2.54a8.033 8.033 0 001.62-.936l2.396.96a.5.5 0 00.607-.22l1.924-3.33a.5.5 0 00-.12-.635l-2.036-1.58zM12 15.5a3.5 3.5 0 110-7 3.5 3.5 0 010 7z"/>
        </svg>
      </button>
    </nav>


    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script type="module" src="js/main.js"></script>

    <!-- Help Modal (hidden by default) -->
<div id="help-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <span id="help-close" class="close-button">&times;</span>
    <div class="video-container">
      <!-- replace the OiYrAKbTL8o with the video_id-->
      <iframe
        src="https://www.youtube.com/embed/OiYrAKbTL8o"
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
        allowfullscreen
      ></iframe>
    </div>
  </div>
</div>

  </body>
</html>
